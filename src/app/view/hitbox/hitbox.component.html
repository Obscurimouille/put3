<div class="container" cdkDragBoundary=".draggable-zone" cdkDrag [cdkDragDisabled]="hitbox.active" [ngStyle]="{'width.px': hitbox.size.width}"
  (mouseenter)="mouseEnter()" (mouseleave)="mouseLeave()">
  <div [ngStyle]="{'width.px': hitbox.size.width, 'height.px': hitbox.size.height}">
    <!-- ---------------------------- RESIZE & MOVE ---------------------------- -->
    <div *ngIf="!hitbox.active" class="resize-handle-container" [ngClass]="{'hover': hover}">
      <div class="resize-handle-right" (mousedown)="resizeStart('right')"></div>
      <div class="resize-handle-bottom" (mousedown)="resizeStart('bottom')"></div>
      <div class="resize-handle-corner" (mousedown)="resizeStart('corner')"></div>
      <div class="drag-handle" cdkDragHandle></div>
    </div>
    <!-- ------------------------- BUTTON WHEN ACTIVE -------------------------- -->
    <app-hitbox-core *ngIf="hitbox.active" [hitbox]="hitbox"></app-hitbox-core>
  </div>
  <!-- -------------------------- SETTINGS SECTION --------------------------- -->
  <div *ngIf="!hitbox.active" class="settings-panel" [ngClass]="{'hover': hover}">
    <button class="action-menu-button" [matMenuTriggerFor]="actionMenu" (click)="mouseEnter()">
      {{hitbox.behavior.action ? hitbox.behavior.action.name : 'Action ▾'}}
    </button>

    <mat-menu #actionMenu="matMenu">
      <button *ngFor="let action of actions" mat-menu-item
      (mouseenter)="mouseEnter()" (click)="selectAction(action)">
        {{action.name}}
      </button>
    </mat-menu>

    <button class="action-menu-button" [matMenuTriggerFor]="triggerMenu" (click)="mouseEnter()">
      {{hitbox.behavior.trigger ? hitbox.behavior.trigger.name : 'Trigger ▾'}}
    </button>

    <mat-menu #triggerMenu="matMenu">
      <button *ngFor="let trigger of triggers" mat-menu-item
      (mouseenter)="mouseEnter()" (click)="selectTrigger(trigger)">
        {{trigger.name}}
      </button>
    </mat-menu>
  </div>
</div>
